(this["webpackJsonpentando-mf-template"]=this["webpackJsonpentando-mf-template"]||[]).push([[0],{76:function(t,e){},77:function(t,e){},78:function(t,e,i){},80:function(t,e,i){"use strict";i.r(e);var n=i(0),c=i.n(n),a=i(2),I=i(26),l=i(27),r=i(28),o=i(30),d=i(31),s=i(29),u=i.n(s),m=i(3),Z=i(10),N=i(14),W=i(7),Y=i.n(W),T=("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PUBLIC_API_TARGET_URL:"http://172.40.0.142:8081",REACT_APP_PUBLIC_API_URL:"/entando-template-api/api",REACT_APP_STRAPI_CONFIG_URL:"http://172.40.0.142:8082/api/config/",REACT_APP_LOCAL_STRAPI_TOKEN:"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5NWNKaVRjejRGTU00RFU5YWhaa0lVS3ZiZ0xEUEhsRDM5N190UG9YSDV3In0.eyJleHAiOjE2NTc5NTU3NzMsImlhdCI6MTY1Nzk1NTQ3MywiYXV0aF90aW1lIjoxNjU3OTU0MTY5LCJqdGkiOiI3ZGY1NmEzOC1jMDc0LTRmMmYtYjNjZC04YWY1NmI0OGYzODMiLCJpc3MiOiJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvL2F1dGgvcmVhbG1zL2VudGFuZG8iLCJhdWQiOlsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiLCJhY2NvdW50Il0sInN1YiI6ImM3NjgyODFmLTIxYTMtNDQyZC04OWMwLTY1OWVkMGE0ODA3YiIsInR5cCI6IkJlYXJlciIsImF6cCI6ImVudGFuZG8td2ViIiwibm9uY2UiOiIzNmQyMGFhYS0xZDk4LTQwMjEtODQ0MS1jNTZhNTQzMTMxNGEiLCJzZXNzaW9uX3N0YXRlIjoiNWRiMzczN2EtOTcyZi00ZmMwLWI1YzYtYTk1ZTI1OThkZTFlIiwiYWNyIjoiMCIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwiZGVmYXVsdC1yb2xlcy1lbnRhbmRvIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiOnsicm9sZXMiOlsiZW50YW5kb0FwcCIsImV0LXNlY29uZC1yb2xlIiwiZXQtZmlyc3Qtcm9sZSJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjVkYjM3MzdhLTk3MmYtNGZjMC1iNWM2LWE5NWUyNTk4ZGUxZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.HrF6qG6N0WA-8CQJWTKbKRaUcKLeNHgDl0zHdMkfDWPEpUyCj_nuLD0IzTmzYb8iS7PfFU58O1mZCTO64sfWHpXcHZkZJdR0zo8t627Qadb1fs2pqNu9EIRrIeXH7tMseiQC_eZCgI_VCgsIxTIdsZTJNiY9OBJsc8O2SHvKaa2d56ra4uE07q73_CdLV2kFAiPaiB5VSsLIQZotBU42GDXjSkaz3vEAUrnXKZAbPJAd30VQk0JTyLOPwhtsnKZpTy4ocu1WjY9dXIBDG9tc0tTMjgy9JPdTcLIvDJINXM96OtVVFMqaPAqbbudckbHwdagQqLKNv4kuJxgFxRNj6g"}).REACT_APP_STRAPI_API_URL),"".concat("/entando-template-api/api","/template/searchby/"),{Authorization:"EntKcToken ".concat("eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5NWNKaVRjejRGTU00RFU5YWhaa0lVS3ZiZ0xEUEhsRDM5N190UG9YSDV3In0.eyJleHAiOjE2NTc5NTU3NzMsImlhdCI6MTY1Nzk1NTQ3MywiYXV0aF90aW1lIjoxNjU3OTU0MTY5LCJqdGkiOiI3ZGY1NmEzOC1jMDc0LTRmMmYtYjNjZC04YWY1NmI0OGYzODMiLCJpc3MiOiJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvL2F1dGgvcmVhbG1zL2VudGFuZG8iLCJhdWQiOlsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiLCJhY2NvdW50Il0sInN1YiI6ImM3NjgyODFmLTIxYTMtNDQyZC04OWMwLTY1OWVkMGE0ODA3YiIsInR5cCI6IkJlYXJlciIsImF6cCI6ImVudGFuZG8td2ViIiwibm9uY2UiOiIzNmQyMGFhYS0xZDk4LTQwMjEtODQ0MS1jNTZhNTQzMTMxNGEiLCJzZXNzaW9uX3N0YXRlIjoiNWRiMzczN2EtOTcyZi00ZmMwLWI1YzYtYTk1ZTI1OThkZTFlIiwiYWNyIjoiMCIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwiZGVmYXVsdC1yb2xlcy1lbnRhbmRvIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiOnsicm9sZXMiOlsiZW50YW5kb0FwcCIsImV0LXNlY29uZC1yb2xlIiwiZXQtZmlyc3Qtcm9sZSJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjVkYjM3MzdhLTk3MmYtNGZjMC1iNWM2LWE5NWUyNTk4ZGUxZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.HrF6qG6N0WA-8CQJWTKbKRaUcKLeNHgDl0zHdMkfDWPEpUyCj_nuLD0IzTmzYb8iS7PfFU58O1mZCTO64sfWHpXcHZkZJdR0zo8t627Qadb1fs2pqNu9EIRrIeXH7tMseiQC_eZCgI_VCgsIxTIdsZTJNiY9OBJsc8O2SHvKaa2d56ra4uE07q73_CdLV2kFAiPaiB5VSsLIQZotBU42GDXjSkaz3vEAUrnXKZAbPJAd30VQk0JTyLOPwhtsnKZpTy4ocu1WjY9dXIBDG9tc0tTMjgy9JPdTcLIvDJINXM96OtVVFMqaPAqbbudckbHwdagQqLKNv4kuJxgFxRNj6g")}),C="STRAPI_CONFIG",O=function(){var t=Object(a.a)(c.a.mark((function t(e){var i,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.a.get("".concat("/entando-template-api/api","/template/").concat(e));case 2:return i=t.sent,n=i.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(a.a)(c.a.mark((function t(e,i){var n,a,I;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e&&i||console.error(e,i),n="".concat(J(),"/content-manager/collection-types/api::").concat(e,".").concat(e,"/").concat(i),t.next=4,Y.a.get(n,h({},"EntKcToken"));case 4:return a=t.sent,I=a.data,t.abrupt("return",I);case 7:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}(),j=function(t){var e=window&&window.entando&&window.entando.keycloak&&window.entando.keycloak.authenticated?window.entando.keycloak.token:localStorage.getItem("token");return e?{headers:{Authorization:"".concat(t," ").concat(e)}}:"EntKcToken"===t?{headers:T}:{}},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Bearer",i=j(e);return Object(N.a)(Object(N.a)({},t),i)},y=function(){var t=Object(a.a)(c.a.mark((function t(){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.a.get("http://172.40.0.142:8082/api/config/").then((function(t){return t})).catch((function(t){return t}));case 2:return e=t.sent,t.abrupt("return",M(e));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),J=function(){return console.log("Strapi config: ",localStorage.getItem(C)),localStorage.getItem(C)},M=function(t){var e=!1;return t.hasOwnProperty("toJSON")&&"Error"===t.toJSON().name&&(e=!0),{data:t,isError:e}},p=(i(78),i(4)),w=i(55),V=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PUBLIC_API_TARGET_URL:"http://172.40.0.142:8081",REACT_APP_PUBLIC_API_URL:"/entando-template-api/api",REACT_APP_STRAPI_CONFIG_URL:"http://172.40.0.142:8082/api/config/",REACT_APP_LOCAL_STRAPI_TOKEN:"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5NWNKaVRjejRGTU00RFU5YWhaa0lVS3ZiZ0xEUEhsRDM5N190UG9YSDV3In0.eyJleHAiOjE2NTc5NTU3NzMsImlhdCI6MTY1Nzk1NTQ3MywiYXV0aF90aW1lIjoxNjU3OTU0MTY5LCJqdGkiOiI3ZGY1NmEzOC1jMDc0LTRmMmYtYjNjZC04YWY1NmI0OGYzODMiLCJpc3MiOiJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvL2F1dGgvcmVhbG1zL2VudGFuZG8iLCJhdWQiOlsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiLCJhY2NvdW50Il0sInN1YiI6ImM3NjgyODFmLTIxYTMtNDQyZC04OWMwLTY1OWVkMGE0ODA3YiIsInR5cCI6IkJlYXJlciIsImF6cCI6ImVudGFuZG8td2ViIiwibm9uY2UiOiIzNmQyMGFhYS0xZDk4LTQwMjEtODQ0MS1jNTZhNTQzMTMxNGEiLCJzZXNzaW9uX3N0YXRlIjoiNWRiMzczN2EtOTcyZi00ZmMwLWI1YzYtYTk1ZTI1OThkZTFlIiwiYWNyIjoiMCIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwiZGVmYXVsdC1yb2xlcy1lbnRhbmRvIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiOnsicm9sZXMiOlsiZW50YW5kb0FwcCIsImV0LXNlY29uZC1yb2xlIiwiZXQtZmlyc3Qtcm9sZSJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjVkYjM3MzdhLTk3MmYtNGZjMC1iNWM2LWE5NWUyNTk4ZGUxZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.HrF6qG6N0WA-8CQJWTKbKRaUcKLeNHgDl0zHdMkfDWPEpUyCj_nuLD0IzTmzYb8iS7PfFU58O1mZCTO64sfWHpXcHZkZJdR0zo8t627Qadb1fs2pqNu9EIRrIeXH7tMseiQC_eZCgI_VCgsIxTIdsZTJNiY9OBJsc8O2SHvKaa2d56ra4uE07q73_CdLV2kFAiPaiB5VSsLIQZotBU42GDXjSkaz3vEAUrnXKZAbPJAd30VQk0JTyLOPwhtsnKZpTy4ocu1WjY9dXIBDG9tc0tTMjgy9JPdTcLIvDJINXM96OtVVFMqaPAqbbudckbHwdagQqLKNv4kuJxgFxRNj6g"}).REACT_APP_STRAPI_API_URL;var G=function(t){var e=t.name,i=(t.nameTwo,t.templateId),n=t.contentId,I=Object(m.useState)(null),l=Object(Z.a)(I,2),r=(l[0],l[1]),o=Object(m.useState)(null),d=Object(Z.a)(o,2),s=(d[0],d[1]),u=Object(m.useState)(null),N=Object(Z.a)(u,2),W=N[0],Y=N[1];return Object(m.useEffect)(Object(a.a)(c.a.mark((function t(){var a,I,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(i);case 2:return a=t.sent,t.next=5,b(e,n);case 5:I=t.sent,r(a),s(I),I&&a&&(Object.keys(I).length>0&&Object.keys(I).map((function(t,e){I[t]&&Array.isArray(I[t])?I[t]&&I[t][0]&&I[t][0].ext&&I[t].map((function(t){return t.url=V+t.url})):I[t]&&"object"===typeof I[t]&&I[t]&&I[t].ext&&"object"===typeof I[t]&&(I[t].url=V+I[t].url)})),l=w.render(a.contentShape,{content:I}),Y(l));case 9:case"end":return t.stop()}}),t)}))),[]),Object(p.jsx)(p.Fragment,{children:W?Object(p.jsx)("div",{dangerouslySetInnerHTML:{__html:W}}):Object(p.jsx)("h1",{children:"Loading..."})})},L={name:"name",nameTwo:"nameTwo",selectedTemplateId:"selectedTemplateId",selectedContentId:"selectedContentId",selectedContentName:"selectedContentName"},S="STRAPI_CONFIG",v="Strapi configuration not available",z=function(t){Object(r.a)(i,t);var e=Object(o.a)(i);function i(){var t;Object(I.a)(this,i);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=e.call.apply(e,[this].concat(l))).getStrapiConfiguration=Object(a.a)(c.a.mark((function e(){var i,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem(S),e.next=3,y();case 3:i=e.sent,n=i.data,!i.isError&&n&&n.data&&n.data.baseUrl?(localStorage.setItem(S,n.data.baseUrl),t.render()):(console.error(v),localStorage.removeItem(S),t.render());case 7:case"end":return e.stop()}}),e)}))),t}return Object(l.a)(i,[{key:"attributeChangedCallback",value:function(t,e,i){if(!Object.values(L).includes(t))throw new Error("Untracked changed attribute: ".concat(t));this.mountPoint&&i!==e&&this.getStrapiConfiguration()}},{key:"connectedCallback",value:function(){this.mountPoint=document.createElement("div"),this.appendChild(this.mountPoint),this.getStrapiConfiguration()}},{key:"render",value:function(){var t=this.getAttribute(L.name),e=this.getAttribute(L.nameTwo),i=this.getAttribute(L.selectedTemplateId),n=this.getAttribute(L.selectedContentId),c=this.getAttribute(L.selectedContentName);u.a.render(Object(p.jsx)(G,{name:t,nameTwo:e,templateId:i,contentId:n,contentName:c}),this.mountPoint)}}],[{key:"observedAttributes",get:function(){return Object.values(L)}}]),i}(Object(d.a)(HTMLElement));customElements.get("my-single-widget")||customElements.define("my-single-widget",z)}},[[80,1,2]]]);
//# sourceMappingURL=main.09224969.chunk.js.map