(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{736:function(e,t,n){},737:function(e,t,n){"use strict";n.r(t);n(323),n(324);var a=n(22),c=n(47),i=n(48),o=n(57),s=n(49),r=n(51),l=n(320),p=n(110),d=n(171),u=n(12),h=n.n(u),j=n(1),b=n.n(j),m=n(23),g=n.n(m),f=n(58),O=n(54),y=n.n(O),C=n(742),I=n(7),x=[5,10,15,25,50],v=Object(I.jsx)(C.a,{id:"app.selectCollection"}),T=Object(I.jsx)(C.a,{id:"app.select"}),w=Object(I.jsx)(C.a,{id:"app.name"}),S=Object(I.jsx)(C.a,{id:"app.created"}),N=Object(I.jsx)(C.a,{id:"app.lastEdited"}),W=Object(I.jsx)(C.a,{id:"app.createdDate"}),Y={SELECT:T,NAME:w,CREATEDBY:S,lastEdited:N,CREATEDDATE:W},k=Object(I.jsx)(C.a,{id:"app.addNewContent"}),M="EntKcToken",Z="YYYY-MM-DD HH:mm:ss",P=[".JPEG",".JPG",".PNG",".GIF",".SVG",".TIFF",".ICO",".DVU"],A="url",L=["createdAt","updatedAt","publishedAt","createdBy","updatedBy","id","localizations","locale"],R="13px",z=Object(I.jsx)(C.a,{id:"app.noDataAvailable"}),D="STRAPI_CONFIG",F="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PUBLIC_API_TARGET_URL:"http://172.40.0.142:8081",REACT_APP_PUBLIC_API_URL:"/entando-template-api/api",REACT_APP_STRAPI_CONFIG_URL:"http://172.40.0.142:8082/api/config/",REACT_APP_LOCAL_STRAPI_TOKEN:"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5NWNKaVRjejRGTU00RFU5YWhaa0lVS3ZiZ0xEUEhsRDM5N190UG9YSDV3In0.eyJleHAiOjE2NTc5NzYzMTgsImlhdCI6MTY1Nzk3NjAxOCwiYXV0aF90aW1lIjoxNjU3OTc0NjQ3LCJqdGkiOiI2NjNhYTExOS1mYmY1LTQ3ZjUtYWRiZS02ODY3NWVlNWY3YzYiLCJpc3MiOiJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvL2F1dGgvcmVhbG1zL2VudGFuZG8iLCJhdWQiOlsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiLCJhY2NvdW50Il0sInN1YiI6ImM3NjgyODFmLTIxYTMtNDQyZC04OWMwLTY1OWVkMGE0ODA3YiIsInR5cCI6IkJlYXJlciIsImF6cCI6ImVudGFuZG8td2ViIiwibm9uY2UiOiI2MjQ3OTQ4YS01YjY2LTQ5NmMtODFjOS1lNTEyMmJmYTA3ZjgiLCJzZXNzaW9uX3N0YXRlIjoiNzRiMDU5ZjktODVhYS00NmQwLWEyOGYtMjQzMTM2ODI4ZTM0IiwiYWNyIjoiMCIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwiZGVmYXVsdC1yb2xlcy1lbnRhbmRvIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiOnsicm9sZXMiOlsiZW50YW5kb0FwcCIsImV0LXNlY29uZC1yb2xlIiwiZXQtZmlyc3Qtcm9sZSJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc0YjA1OWY5LTg1YWEtNDZkMC1hMjhmLTI0MzEzNjgyOGUzNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.P9ugFyWgT9jL4o-KdtGUdJ7GqesUYj3uqHB0Zim9IAqAoMJWVgTkQGk_zk84sUo7ZeHOPOuyUwHL3vFNDXChD68WkBMJdpbeCwvRhc2FewXXjjOtzREzADsnQ2Q7QQowImpc1I3XeZk3DH-c5xiwAiUTMrniygp1yL6cR606VnRbU356SbjLBjN5EGOjPDKmhWim6d7Ym_qC-Bd_IIRaRjRBGZLqQtq9EVg-VHmW2y0I9nhiFn4WbQGmwuc8A5U_vaLFAqSkBNNw28UhK_XfYPAWbOhA2QBjUQeOntCi1-58c2FSucEzfxLwXgpMUxLSuni07PxFcOQSYuiX24IdTQ"}).REACT_APP_STRAPI_API_URL),V="".concat("/entando-template-api/api","/template/"),U=("".concat(F,"/content-manager/collection-types/api::"),"".concat(F,"/i18n/locales"),"&sort=createdAt:DESC"),J={Authorization:"".concat(M," ").concat("eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5NWNKaVRjejRGTU00RFU5YWhaa0lVS3ZiZ0xEUEhsRDM5N190UG9YSDV3In0.eyJleHAiOjE2NTc5NzYzMTgsImlhdCI6MTY1Nzk3NjAxOCwiYXV0aF90aW1lIjoxNjU3OTc0NjQ3LCJqdGkiOiI2NjNhYTExOS1mYmY1LTQ3ZjUtYWRiZS02ODY3NWVlNWY3YzYiLCJpc3MiOiJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvL2F1dGgvcmVhbG1zL2VudGFuZG8iLCJhdWQiOlsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiLCJhY2NvdW50Il0sInN1YiI6ImM3NjgyODFmLTIxYTMtNDQyZC04OWMwLTY1OWVkMGE0ODA3YiIsInR5cCI6IkJlYXJlciIsImF6cCI6ImVudGFuZG8td2ViIiwibm9uY2UiOiI2MjQ3OTQ4YS01YjY2LTQ5NmMtODFjOS1lNTEyMmJmYTA3ZjgiLCJzZXNzaW9uX3N0YXRlIjoiNzRiMDU5ZjktODVhYS00NmQwLWEyOGYtMjQzMTM2ODI4ZTM0IiwiYWNyIjoiMCIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwiZGVmYXVsdC1yb2xlcy1lbnRhbmRvIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiOnsicm9sZXMiOlsiZW50YW5kb0FwcCIsImV0LXNlY29uZC1yb2xlIiwiZXQtZmlyc3Qtcm9sZSJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc0YjA1OWY5LTg1YWEtNDZkMC1hMjhmLTI0MzEzNjgyOGUzNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.P9ugFyWgT9jL4o-KdtGUdJ7GqesUYj3uqHB0Zim9IAqAoMJWVgTkQGk_zk84sUo7ZeHOPOuyUwHL3vFNDXChD68WkBMJdpbeCwvRhc2FewXXjjOtzREzADsnQ2Q7QQowImpc1I3XeZk3DH-c5xiwAiUTMrniygp1yL6cR606VnRbU356SbjLBjN5EGOjPDKmhWim6d7Ym_qC-Bd_IIRaRjRBGZLqQtq9EVg-VHmW2y0I9nhiFn4WbQGmwuc8A5U_vaLFAqSkBNNw28UhK_XfYPAWbOhA2QBjUQeOntCi1-58c2FSucEzfxLwXgpMUxLSuni07PxFcOQSYuiX24IdTQ")},G=function(){var e=Object(a.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat(ee(),"/content-manager/content-types"),q({},M));case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(a.a)(h.a.mark((function e(t){var n,a,c,i,o,s,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:1,a=r.length>2&&void 0!==r[2]?r[2]:5,c="".concat(ee(),"/content-manager/collection-types/api::"),i="".concat(c).concat(t,".").concat(t,"?page=").concat(n,"&pageSize=").concat(a).concat(U),e.next=6,y.a.get(i,q({},M));case 6:return o=e.sent,s=o.data,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(a.a)(h.a.mark((function e(t,n){var a,c,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&n||console.error(t,n),a="".concat(ee(),"/content-manager/collection-types/api::").concat(t,".").concat(t,"/").concat(n),e.next=4,y.a.get(a,q({},M));case 4:return c=e.sent,i=c.data,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(a.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(ee(),"/i18n/locales"),e.next=3,y.a.get(t,q({},M));case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(a.a)(h.a.mark((function e(t,n){var a,c,i,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(ee(),"/content-manager/collection-types/api::"),c="".concat(a).concat(t,".").concat(t,"/").concat(n),e.next=4,y.a.get(c,q({},M));case 4:return i=e.sent,o=i.data,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=Object(a.a)(h.a.mark((function e(t,n,a){var c,i,o,s,r,l,p=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=p.length>3&&void 0!==p[3]?p[3]:1,i=p.length>4&&void 0!==p[4]?p[4]:5,t){e.next=4;break}throw new Error("collectionType is missing");case 4:return o="".concat(ee(),"/content-manager/collection-types/api::"),s="".concat(o).concat(t,".").concat(t,"?filters[").concat(a,"][$containsi]=").concat(n,"&page=").concat(c,"&pageSize=").concat(i),e.next=8,y.a.get(s,q({},M));case 8:return r=e.sent,l=r.data,e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),H=function(){var e=Object(a.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?"?collectionType=".concat(t):"",e.next=3,y.a.get("".concat(V+n),q({}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(e){var t=window&&window.entando&&window.entando.keycloak&&window.entando.keycloak.authenticated?window.entando.keycloak.token:localStorage.getItem("token");return t?{headers:{Authorization:"".concat(e," ").concat(t)}}:e===M?{headers:J}:{}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Bearer",n=K(t);return Object(f.a)(Object(f.a)({},e),n)},$=function(){var e=Object(a.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("http://172.40.0.142:8082/api/config/").then((function(e){return e})).catch((function(e){return e}));case 2:return t=e.sent,e.abrupt("return",te(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){return console.log("Strapi config: ",localStorage.getItem(D)),localStorage.getItem(D)},te=function(e){ne();var t=!1;return e.hasOwnProperty("toJSON")&&"Error"===e.toJSON().name&&(t=!0),{data:e,isError:t}},ne=function(){console.log("Test update")},ae=n(741),ce=n(91),ie=n(29),oe={"app.content":"Content","app.info":"Info","app.name":"Name","app.created":"Created by","app.createdDate":"Created date","app.selectDefaultTemplate":"Select default template*","app.addExistingContent":"Add existing content","app.addNewContent":"Add new content","app.selectContent":"Select Content","app.select":"Select","app.selectCollection":"Select Collection Type","app.chooseAnOption":"Choose an option","app.widgetConfiguration":"Widget Configuration","app.queryFilter":"Query Filter","app.cancel":"Cancel","app.saveAsQuery":"Save as Query","app.saveAsListOfContents":"Save as list of Contents","app.search":"Search","app.lastEdited":"Last edited","app.result":"Result","app.remove":"Remove","app.query":"Query","app.selectTemplate":"Select Template","app.save":"Save","app.edit":"Edit content","app.noMatchesFound":"No matches found","app.noDataAvailable":"No data available","app.firstPage":"First Page","app.previousPage":"Previous Page","app.currentPage":"Current Page","app.nextPage":"Next Page","app.lastPage":"Last Page","app.perPage":"per page","app.of":"of","app.ok":"Ok"},se={"app.content":"Contenuto","app.info":"Informazioni","app.name":"Nome","app.created":"Creata da","app.createdDate":"Data di Creazione","app.selectDefaultTemplate":"Seleziona il modello predefinito*","app.addExistingContent":"Aggiungi contenuto esistente","app.addNewContent":"Aggiungi nuovo contenuto","app.selectContent":"Seleziona Contenuto","app.select":"Selezionare","app.selectCollection":"Seleziona Tipo di raccolta","app.chooseAnOption":"Scegliere un'opzione","app.widgetConfiguration":"Widget Configuration","app.queryFilter":"Filtro di query","app.cancel":"Annulla","app.saveAsQuery":"Salva come query","app.saveAsListOfContents":"Salva come elenco di contenuti","app.search":"Ricerca","app.lastEdited":"Ultima modifica","app.result":"Risultato","app.remove":"Rimuovere","app.query":"Domanda","app.selectTemplate":"Seleziona Modello","app.save":"Salva","app.edit":"Modifica contenutoe","app.noMatchesFound":"Nessun risultato trovato","app.noDataAvailable":"Nessun dato disponibile","app.firstPage":"Prima pagina","app.previousPage":"Pagina precedente","app.currentPage":"Pagina corrente","app.nextPage":"Pagina successiva","app.lastPage":"Ultima pagina","app.perPage":"per pagina","app.of":"di","app.ok":"Ok"},re=n(16),le=n(70),pe=n.n(le),de=function(e){if(e){var t=Object.keys(e),n=t.findIndex((function(e){return"title"===e.toLowerCase()}));if(n>-1)return Object.keys(e)[n];if((n=t.findIndex((function(e){return"name"===e.toLowerCase()})))>-1)return Object.keys(e)[n];var a=t.filter((function(e){return!L.includes(e)}));if(a&&a.length)return a[0]}return"-"},ue=function(e){return e.length>0?JSON.parse(e):e},he=function(e){Object(s.a)(n,e);var t=Object(r.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).renderToggleButton=function(e){e.isMenuShown;var t=e.onClick;return Object(I.jsx)("button",{type:"button",style:{position:"absolute",height:"100%",top:"0px",right:"0px",border:"1px solid lightgray"},onClick:function(e){e.preventDefault(),t(e)},children:Object(I.jsx)("span",{className:"fa fa-angle-down"})})},a.onChangeTemplateId=function(e){a.props.setTemplateId(e.target.value)},a.state={templateType:[{label:"vj"}],selectedTemplateType:[]},a}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("table",{className:"table table-bordered table-datatable table-hover table-striped Contents__table-element",children:[Object(I.jsx)("thead",{children:Object(I.jsx)("tr",{children:Object.keys(je).map((function(e,t){return Object(I.jsx)("th",{children:Object(I.jsx)(C.a,{id:je[e]})},t)}))})}),Object(I.jsx)("tbody",{children:this.props.selectedContent.length>0&&this.props.selectedContent.map((function(t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:t[de(t)]}),Object(I.jsx)("td",{children:"".concat(t.createdBy.firstname," ").concat(t.createdBy.lastname)}),Object(I.jsx)("td",{children:pe()(new Date(t.updatedAt)).format(Z)}),Object(I.jsx)("td",{children:pe()(new Date(t.publishedAt)).format(Z)}),Object(I.jsx)("td",{children:Object(I.jsxs)("select",{name:"modelId",defaultValue:"default"===e.props.selectedTemplateId?"none":e.props.selectedTemplateId,className:"form-control",onChange:e.onChangeTemplateId,children:[Object(I.jsx)(C.a,{id:"app.selectTemplate",children:function(e){return Object(I.jsx)("option",{value:"none",disabled:!0,hidden:!0,children:e})}}),e.props.templateList.map((function(e){return Object(I.jsx)("option",{value:e.id,children:e.templateName},e.id)}))]})})]},t.id)}))})]})})}}]),n}(b.a.Component),je={Title:"app.name",createdAt:"app.created",updatedAt:"app.lastEdited",createDate:"app.createdDate",selectDefaultTemplate:"app.selectDefaultTemplate"},be=function(e){Object(s.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).componentDidMount=Object(a.a)(h.a.mark((function e(){var t,n,a,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:if(t=(t=e.sent).data.filter((function(e){return e&&e.uid&&e.uid.startsWith("api::")&&e.isDisplayed})),n=[],t.length&&t.forEach((function(e){n.push({label:e.info.pluralName})})),!(a=ue(i.props.collType)).length||!i.props.selectedContentId){e.next=14;break}return e.next=10,H(a[0].value?a[0].value:"");case 10:c=e.sent,o=c.data,i.setState({templateList:o,collectionTypes:o}),i.fetchContentById(a[0].value,i.props.selectedContentId);case 14:case"end":return e.stop()}}),e)}))),i.fetchContentById=function(){var e=Object(a.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t,n);case 2:a=e.sent,i.setState({selectedContent:[a]});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i.onChangeTemplateId=function(e){i.setState({selectedTemplateId:e.target.value})},i.handleTypeaheadChangeContentType=function(e){var t=e.map((function(e){return e.label}));i.setState({templateList:t})},i.handleAddNewContent=function(){var e="".concat(ee()).concat("/admin/content-manager"),t=window.open(e,"_blank");t&&t.focus()},i.state={selectedContent:[],name:null,nameTwo:null,collectionTypes:[],selectedContentId:0,selectedTemplateId:"default",templateList:[]},i.handleAddNewContent=i.handleAddNewContent.bind(Object(o.a)(i)),i}return Object(i.a)(n,[{key:"render",value:function(){return Object(I.jsx)("form",{className:"form-horizontal SingleContentConfigForm well",children:Object(I.jsx)(re.Row,{children:Object(I.jsx)(re.Col,{xs:12,children:Object(I.jsx)("div",{children:Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"icon fa fa-puzzle-piece",title:"Widget"}),Object(I.jsx)("h5",{className:"SingleContentConfigFormBody__widgetTitle",children:Object(I.jsx)(C.a,{id:"app.content"})}),Object(I.jsx)("div",{className:"SectionTitle SectionTitle__non-collapsable",role:"button",children:Object(I.jsxs)("span",{children:[" ",Object(I.jsx)(C.a,{id:"app.info"})]})}),Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)(re.Col,{xs:6,children:Object(I.jsxs)("h3",{className:"SingleContentConfigFormBody__contentTitle",children:[Object(I.jsx)(C.a,{id:"app.content"}),": -"]})}),Object(I.jsxs)(re.Col,{xs:6,className:"SingleContentConfigFormBody__addButtons",children:[Object(I.jsx)(ce.b,{to:"/singleconfigpage",children:Object(I.jsx)(re.Button,{bsStyle:"primary",children:this.state.selectedContent.length?Object(I.jsx)(C.a,{id:"app.edit"}):Object(I.jsx)(C.a,{id:"app.addExistingContent"})})}),Object(I.jsx)(re.Button,{className:"AddContentTypeFormBody__save--btn",bsStyle:"primary",onClick:this.handleAddNewContent,children:k})]})]}),Object(I.jsx)("div",{style:{marginTop:"1rem"}}),Object(I.jsx)(he,{setTemplateId:this.props.setTemplateId,templateList:this.state.templateList,content:this.state.selectedContent,selectedContent:this.state.selectedContent,selectedTemplateId:this.props.selectedTemplateId})]})})})})})}}]),n}(j.Component),me=n(138),ge=n(319),fe=n(90),Oe=n(132),ye=n(304),Ce=1,Ie=function(e){return Ce+=1,Object(I.jsx)(Oe.a,{accordion:!0,id:Ce,style:{marginBottom:"5px"},children:e&&Object.keys(e).length>0?Pe(e)?Te(A,0,e.url):Object.keys(e).filter((function(e){return Le(e)})).map((function(t,n){var a,c;return ve(e)&&t&&(Number(t)||0===Number(t))?(e[t]&&((a=xe(e[t]))&&!Number(a)?delete(c=Object(f.a)({},e[t])).__component:(a=t,c=e[t])),a&&(Number(a)||0===Number(a))&&(a=(a=Number(a)+1).toString())):(a=t,c=e[t]),Te(a,n,c)})):Object(I.jsx)("span",{children:z})})},xe=function(e){if(e&&Object.keys(e).includes("__component")){var t=e.__component&&e.__component.split(".");if(t&&t.length>0)return t[1]&&t[1].indexOf("-")?t[1].replace("-","_"):t[1]}},ve=function(e){return!!e&&!!Array.isArray(e)},Te=function(e,t,n){return Object(I.jsxs)(ye.a,{eventKey:t,children:[we(e,n),Ze(n)&&We(n,!0)]},t)},we=function(e,t){return Object(I.jsx)(ye.a.Heading,{children:Ze(t)&&!Pe(t)?Ne(e):Se(e,t)})},Se=function(e,t){return Object(I.jsx)(ye.a.Title,{children:Object(I.jsxs)(fe.Grid.Row,{className:"show-grid",style:{display:"flex",fontSize:R},children:[Object(I.jsx)(fe.Grid.Col,{style:{width:"10%",marginLeft:"2.5rem",wordBreak:"break-word"},children:Object(I.jsx)("div",{children:Object(I.jsx)("strong",{children:Pe(t)&&Ae(e)?"Photo "+e.charAt(0).toUpperCase()+e.slice(1):e.charAt(0).toUpperCase()+e.slice(1)})})}),Object(I.jsx)(fe.Grid.Col,{style:{width:"90%",marginLeft:"1rem",paddingRight:"2rem",lineHeight:"1.2"},children:Pe(t)?Ye(t[A.toLowerCase()]):Ye(t)})]})})},Ne=function(e){return Object(I.jsx)(ye.a.Title,{toggle:!0,style:{marginLeft:"-1rem",fontSize:R},children:Object(I.jsx)("span",{children:Object(I.jsx)("strong",{children:e.charAt(0).toUpperCase()+e.slice(1)})})})},We=function(e,t){return t?Object(I.jsx)(ye.a.Body,{collapsible:!0,children:Ie(e)}):Object(I.jsx)(ye.a.Body,{collapsible:!0,children:Object(I.jsx)("span",{children:e})})},Ye=function(e){return null===e||void 0===e?Object(I.jsx)("span",{children:" - "}):"boolean"===typeof e?Object(I.jsx)("span",{children:e.toString()}):"string"===typeof e?Me(e)?Object(I.jsx)("img",{src:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PUBLIC_API_TARGET_URL:"http://172.40.0.142:8081",REACT_APP_PUBLIC_API_URL:"/entando-template-api/api",REACT_APP_STRAPI_CONFIG_URL:"http://172.40.0.142:8082/api/config/",REACT_APP_LOCAL_STRAPI_TOKEN:"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5NWNKaVRjejRGTU00RFU5YWhaa0lVS3ZiZ0xEUEhsRDM5N190UG9YSDV3In0.eyJleHAiOjE2NTc5NzYzMTgsImlhdCI6MTY1Nzk3NjAxOCwiYXV0aF90aW1lIjoxNjU3OTc0NjQ3LCJqdGkiOiI2NjNhYTExOS1mYmY1LTQ3ZjUtYWRiZS02ODY3NWVlNWY3YzYiLCJpc3MiOiJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvL2F1dGgvcmVhbG1zL2VudGFuZG8iLCJhdWQiOlsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiLCJhY2NvdW50Il0sInN1YiI6ImM3NjgyODFmLTIxYTMtNDQyZC04OWMwLTY1OWVkMGE0ODA3YiIsInR5cCI6IkJlYXJlciIsImF6cCI6ImVudGFuZG8td2ViIiwibm9uY2UiOiI2MjQ3OTQ4YS01YjY2LTQ5NmMtODFjOS1lNTEyMmJmYTA3ZjgiLCJzZXNzaW9uX3N0YXRlIjoiNzRiMDU5ZjktODVhYS00NmQwLWEyOGYtMjQzMTM2ODI4ZTM0IiwiYWNyIjoiMCIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwiZGVmYXVsdC1yb2xlcy1lbnRhbmRvIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiOnsicm9sZXMiOlsiZW50YW5kb0FwcCIsImV0LXNlY29uZC1yb2xlIiwiZXQtZmlyc3Qtcm9sZSJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc0YjA1OWY5LTg1YWEtNDZkMC1hMjhmLTI0MzEzNjgyOGUzNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.P9ugFyWgT9jL4o-KdtGUdJ7GqesUYj3uqHB0Zim9IAqAoMJWVgTkQGk_zk84sUo7ZeHOPOuyUwHL3vFNDXChD68WkBMJdpbeCwvRhc2FewXXjjOtzREzADsnQ2Q7QQowImpc1I3XeZk3DH-c5xiwAiUTMrniygp1yL6cR606VnRbU356SbjLBjN5EGOjPDKmhWim6d7Ym_qC-Bd_IIRaRjRBGZLqQtq9EVg-VHmW2y0I9nhiFn4WbQGmwuc8A5U_vaLFAqSkBNNw28UhK_XfYPAWbOhA2QBjUQeOntCi1-58c2FSucEzfxLwXgpMUxLSuni07PxFcOQSYuiX24IdTQ"}).REACT_APP_STRAPI_API_URL+e,width:"50px",height:"50px",alt:"image"}):ke(e)?Object(I.jsx)("span",{children:pe()(new Date(e)).format(Z)}):Object(I.jsx)("span",{style:{wordBreak:"break-word"},children:e}):"number"===typeof e?Object(I.jsx)("span",{children:e}):"object"===typeof e?e:Object(I.jsx)("span",{children:" - "})},ke=function(e){return!!(e&&e&&e.endsWith("Z")&&24===e.length&&10===e.split("T")[0].length&&13===e.split("T")[1].length)},Me=function(e){var t,n=Object(me.a)(P);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(e.toUpperCase().endsWith(a))return!0}}catch(c){n.e(c)}finally{n.f()}return!1},Ze=function(e){return!!e&&"object"===typeof e},Pe=function(e){var t=e&&Object.keys(e);return!!(t&&t.includes("ext")&&t.includes("formats")&&t.includes("url")&&P.includes(e.ext.toUpperCase()))},Ae=function(e){return!!(e&&Number(e)&&Number(e)>=0)},Le=function(e){return!L.includes(e)},Re=function(e){Object(s.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).toggleTab=function(e){i.state.dataToShowOnModal.localizations&&i.state.dataToShowOnModal.localizations.length>0&&i.getCollectionByLocaleName(i.state.currentCode[e]),i.props.setActiveTabKey(e)},i.getLocaleInfo=Object(a.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:t=e.sent,i.setState({localeInfo:t});case 4:case"end":return e.stop()}}),e)}))),i.componentDidMount=Object(a.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.getLocaleInfo();case 1:case"end":return e.stop()}}),e)}))),i.getCollectionByLocaleName=function(){var e=Object(a.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(i.props.collectionType,t);case 2:n=e.sent,t===i.props.contentId?i.setState({dataToShowOnModal:Object(f.a)({},n)}):i.setState({dataToShowOnModalRestTabs:Object(f.a)({},n)});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.componentDidUpdate=function(){var e=Object(a.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.props.collectionType||!i.props.contentId){e.next=9;break}if(t.collectionType===i.props.collectionType&&t.contentId===i.props.contentId){e.next=9;break}return e.next=4,X(i.props.collectionType,i.props.contentId);case 4:a=e.sent,i.setState({dataToShowOnModal:Object(f.a)({},a)}),i.setState({dataToShowOnModalRestTabs:Object(f.a)({},a)}),i.props.setActiveTabKey(0),i.setState({currentCode:[i.props.contentId]});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i.state={show:!0,collectionTypes:[],mockRows:[],selectedContent:[],selectedCollectionType:null,collectionAttributes:i.props.dummyData,dataToShowOnModal:{},localeInfo:[],currentCode:[i.props.contentId],dataToShowOnModalRestTabs:{}},i.toggleTab=i.toggleTab.bind(Object(o.a)(i)),i.getCollectionByLocaleName=i.getCollectionByLocaleName.bind(Object(o.a)(i)),i}return Object(i.a)(n,[{key:"getLocaleFullName",value:function(e){return this.state.localeInfo.filter((function(t){return t.code===e}))[0].name}},{key:"render",value:function(){var e=this;return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(re.Modal,{dialogClassName:"ContentsFilterModal",show:this.props.show,onHide:this.props.onHide,children:[Object(I.jsx)(re.Modal.Header,{children:Object(I.jsx)(re.Modal.Title,{children:this.state.dataToShowOnModal&&Object.keys(this.state.dataToShowOnModal).length>0&&this.props.fetchTitleOrName(this.state.dataToShowOnModal)})}),Object(I.jsxs)(re.Modal.Body,{children:[Object(I.jsx)("div",{className:"CollapsibleSection__title no-padding",role:"button",tabIndex:0}),Object(I.jsx)("div",{children:Object(I.jsxs)(re.Tabs,{id:"id",activeKey:this.props.activeTabKey,onSelect:this.toggleTab,children:[this.state.dataToShowOnModal&&this.state.dataToShowOnModal.locale?Object(I.jsx)(re.Tab,{eventKey:0,title:this.getLocaleFullName(this.state.dataToShowOnModal.locale).split(" ")[0],style:{overflowY:"auto",height:"38rem",overflowX:"hidden"},children:Ie(this.state.dataToShowOnModal)}):Object(I.jsx)(re.Tab,{eventKey:0,title:"English",style:{overflowY:"auto",height:"38rem",overflowX:"hidden"},children:Ie(this.state.dataToShowOnModal)}),this.state.dataToShowOnModal&&this.state.dataToShowOnModal.localizations&&this.state.dataToShowOnModal.localizations.length>0&&this.state.dataToShowOnModal.localizations.map((function(t,n){return e.state.currentCode.push(t.id),Object(I.jsx)(re.Tab,{eventKey:n+1,title:e.getLocaleFullName(t.locale).split(" ")[0],style:{overflowY:"auto",height:"38rem",overflowX:"hidden"},children:Ie(e.state.dataToShowOnModalRestTabs)},n+1)}))]})})]}),Object(I.jsx)(re.Modal.Footer,{children:Object(I.jsx)(re.Button,{bsStyle:"primary",onClick:this.props.onHide,children:Object(I.jsx)(C.a,{id:"app.ok"})})})]})})}}]),n}(j.Component),ze=n(134),De=function(e){Object(s.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).componentDidMount=Object(a.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.initSingleContentListPage();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),i.componentWillUnmount=function(){return i.shouldShowEtSaveBtn("visible")},i.componentDidUpdate=function(){var e=Object(a.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t.selectedCollectionType!==i.props.selectedCollectionType||n.pageSize!==i.state.pageSize&&!i.state.searchBtnClk)&&i.setState({page:1,pageInput:1,currPageWillUpdating:1},Object(a.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.doContentSearch();case 2:case"end":return e.stop()}}),e)})))),n.page===i.state.page||i.state.searchBtnClk){e.next=4;break}return e.next=4,i.doContentSearch();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i.shouldShowEtSaveBtn=function(e){var t,n=Object(me.a)(document.getElementsByClassName("pull-right save btn btn-primary"));try{for(n.s();!(t=n.n()).done;){t.value.style.visibility=e}}catch(a){n.e(a)}finally{n.f()}},i.filterUidByApiPrefix=function(e){return e.filter((function(e){return e.uid.startsWith("api::")}))},i.open=function(){var e=Object(a.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.setState({show:!0,contentDetailsOnModal:t,contentIdForModal:t&&t.id,activeTabKey:0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.close=function(){i.setState({show:!1})},i.setActiveTabKey=function(e){i.setState({activeTabKey:e})},i.handleCollectionTypeChange=function(){var e=Object(a.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.searchByKey="",i.setState({contents:[],selectedContent:{}}),n=t[0],i.setState({selectedCollectionType:t}),!n||!n.value){e.next=10;break}return e.next=7,i.getContentsByCollectionType(n.value);case 7:i.props.setSelectedContentName(n.value),e.next=11;break;case 10:i.props.setSelectedContentName(null);case 11:i.setState({contentIdForModal:void 0,currPageWillUpdating:1});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.getContentsByCollectionType=function(){var e=Object(a.a)(h.a.mark((function e(t,n,a){var c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t,n,a);case 2:c=e.sent,i.props.collType&&ue(i.props.collType)[0].value===i.props.selectedContentName&&(o=c&&c.results&&c.results.find((function(e){if(+e.id===+i.props.selectedContentId)return e})),i.props.selectedContentId&&i.setState({selectedContent:o})),i.setState({contents:c.results,lastPage:c.pagination.pageCount,page:c.results.length?c.pagination.page:0,currPageWillUpdating:c.results.length?c.pagination.page:0,pageSize:c.pagination.pageSize,totalItems:c.pagination.total});case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),i.renderToggleButton=function(e){e.isMenuShown;var t=e.onClick;return Object(I.jsx)("button",{type:"button",style:{position:"absolute",height:"100%",top:"0px",right:"0px",border:"1px solid lightgray"},onClick:function(e){e.preventDefault(),t(e)},children:Object(I.jsx)("span",{className:"fa fa-angle-down"})})},i.setPage=function(e){var t=Number(e);if(!Number.isNaN(e)&&""!==e&&t>0&&t<=i.totalPages()){var n=Object.assign({},i.state.pagination);n.page=t,i.setState({pagination:n,pageChangeValue:t})}},i.onContentSearch=function(){var e=Object(a.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!i.state.searchQuery){e.next=8;break}return e.next=4,Q(i.state.selectedCollectionType[0].value,i.state.searchQuery,i.searchByKey,1,5);case 4:n=e.sent,i.handleStateOnTermSearch(n),e.next=9;break;case 8:i.getContentsByCollectionType(i.state.selectedCollectionType[0].value);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.handleQueryChange=function(e){e.preventDefault(),i.setState({searchQuery:e.target.value})},i.onPerPageSelect=function(e){i.setState({searchBtnClk:!1}),i.setState({pageSize:e})},i.onPageInput=function(e){i.setState({currPageWillUpdating:e.target.value})},i.onSubmit=function(){+i.state.currPageWillUpdating&&i.state.currPageWillUpdating<=i.state.lastPage&&i.setState({page:+i.state.currPageWillUpdating})},i.fetchTitleOrName=function(e){if(e){var t=Object.keys(e),n=t.findIndex((function(e){return"title"===e.toLowerCase()}));if(n>-1)return i.searchByKey=Object.keys(e)[n],e[Object.keys(e)[n]];if((n=t.findIndex((function(e){return"name"===e.toLowerCase()})))>-1)return i.searchByKey=Object.keys(e)[n],e[Object.keys(e)[n]];var a=t.filter((function(e){return!L.includes(e)}));if(a&&a.length)return i.searchByKey=a[0],e[a[0]]}return i.searchByKey="","-"},i.radioButton=function(e){return i.state.selectedContent&&i.state.selectedContent.id?i.props.collType.length?Object(I.jsx)("input",{onChange:function(){i.setState({selectedContent:e})},type:"radio",id:e.id,name:"content",value:e.id,defaultChecked:i.state.selectedContent.id===e.id&&ue(i.props.collType)[0].value===i.props.selectedContentName}):Object(I.jsx)("input",{onChange:function(){i.setState({selectedContent:e})},type:"radio",id:e.id,name:"content",value:e.id,defaultChecked:i.state.selectedContent.id===e.id}):Object(I.jsx)("input",{onChange:function(){i.setState({selectedContent:e})},type:"radio",id:e+e.id,name:"content",value:e.id})},i.onPageNavigation=function(e){i.setState({searchBtnClk:!1}),i.changePage(e)},i.saveHandler=function(){i.props.setContent([i.state.selectedContent]),i.props.setCollectionType(i.state.selectedCollectionType),i.props.setTemplateId("default")},i.cancelHandler=function(){i.props.collType.length&&i.props.setSelectedContentName(ue(i.props.collType)[0].value)},i.state={page:1,currPageWillUpdating:1,pageSize:5,totalItems:20,lastPage:4,pageInput:1,pageChangeValue:1,show:!1,activeTabKey:0,contentDetailsOnModal:{},searchQuery:"",setSearchBy:"",searchBtnClk:!1,collectionType:[],selectedCollectionType:[],contents:[],selectedContent:{},contentIdForModal:""},i.searchByKey="",i}return Object(i.a)(n,[{key:"initSingleContentListPage",value:function(){var e=Object(a.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setCollectionTypeState();case 2:if(this.shouldShowEtSaveBtn("hidden"),!(t=ue(this.props.collType))){e.next=8;break}return this.setState({selectedCollectionType:t}),e.next=8,this.getContentsByCollectionType(t[0].value,this.state.page,this.state.pageSize);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"doContentSearch",value:function(){var e=Object(a.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.searchByKey||!this.state.searchQuery){e.next=7;break}return e.next=3,Q(this.state.selectedCollectionType[0].value,this.state.searchQuery,this.searchByKey,this.state.page,this.state.pageSize);case 3:t=e.sent,this.handleStateOnTermSearch(t),e.next=9;break;case 7:return e.next=9,this.getContentsByCollectionType(this.state.selectedCollectionType[0].value,this.state.page?this.state.page:1,this.state.pageSize);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCollectionTypeState",value:function(){var e=Object(a.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:t=e.sent,n=t.data,a=this.filterUidByApiPrefix(n),this.setState({collectionType:a.map((function(e){return{label:e.info.displayName,value:e.info.singularName}}))});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changePage",value:function(e){this.setState({page:e,currPageWillUpdating:e})}},{key:"handleStateOnTermSearch",value:function(e){this.setState({contents:e.results,lastPage:e.pagination.pageCount,page:e.results.length?e.pagination.page:0,currPageWillUpdating:e.results.length?e.pagination.page:0,pageSize:e.pagination.pageSize,totalItems:e.pagination.total,searchBtnClk:!0})}},{key:"render",value:function(){var e,t=this,n={page:this.state.page?this.state.page:1,perPage:this.state.pageSize,perPageOptions:x},a=0===this.state.totalItems?0:(this.state.page-1)*this.state.pageSize+1,c=Math.min(this.state.page*this.state.pageSize,this.state.totalItems),i=!0;return(this.state.selectedContent&&Object.keys(this.state.selectedContent).length||this.props.collType&&ue(this.props.collType)[0].value===this.props.selectedContentName)&&(i=!1),Object(I.jsxs)(re.Grid,{children:[Object(I.jsx)(re.Row,{className:"mt-2",children:Object(I.jsx)(re.Col,{lg:12,children:Object(I.jsx)("legend",{children:Object(I.jsx)(C.a,{id:"app.selectContent"})})})}),Object(I.jsx)(re.Row,{className:"mt-2",children:Object(I.jsx)(re.Col,{lg:3,children:Object(I.jsx)("h6",{children:Object(I.jsx)("b",{children:v})})})}),Object(I.jsx)(re.Row,{children:Object(I.jsx)(re.Col,{lg:3,children:Object(I.jsx)(ge.a,{id:"collectionTypeDropdown",placeholder:this.props.intl.formatMessage({id:"app.chooseAnOption"}),emptyLabel:this.props.intl.formatMessage({id:"app.noMatchesFound"}),options:this.state.collectionType,onChange:this.handleCollectionTypeChange,selected:this.state.selectedCollectionType,children:function(e){var n=e.isMenuShown,a=e.toggleMenu;return t.renderToggleButton({isMenuShown:n,onClick:a})}})})}),Object.keys(this.state.selectedCollectionType).length>0&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(re.Row,{className:"mt-2",children:Object(I.jsx)(re.Col,{lg:3,children:Object(I.jsx)("h5",{style:{marginBottom:"0px"},children:Object(I.jsx)("strong",{children:this.state.selectedCollectionType&&this.state.selectedCollectionType[0]&&this.state.selectedCollectionType[0].label})})})}),Object(I.jsx)(re.Row,{children:Object(I.jsx)(re.Col,{lg:12,children:Object(I.jsx)("div",{className:"ContentsFilter well",role:"button",tabIndex:0,style:{margin:"1rem 0rem"},children:Object(I.jsxs)("form",{children:[Object(I.jsxs)("div",{style:{display:"flex",margin:"1rem 0rem"},children:[Object(I.jsx)("button",{id:"dropdown-example",role:"button","aria-haspopup":"true","aria-expanded":"false",type:"button",className:"dropdown-toggle btn btn-default",children:w}),Object(I.jsx)("input",{type:"search",name:"name",onChange:this.handleQueryChange,role:"combobox",className:"rbt-input-main form-control rbt-input",placeholder:this.props.intl.formatMessage({id:"app.result"})})]}),Object(I.jsx)("div",{className:"pull-right mbt10",style:{margin:"0 0 10px 0"},children:Object(I.jsx)("button",{className:"btn btn-primary",onClick:this.onContentSearch,children:Object(I.jsx)(C.a,{id:"app.search"})})})]})})})}),Object(I.jsx)(re.Row,{className:"mt-2",children:Object(I.jsxs)(re.Col,{lg:12,children:[Object(I.jsxs)("table",{className:"table dataTable table-striped table-bordered table-hover",children:[Object(I.jsx)("thead",{children:Object(I.jsx)("tr",{children:Object.keys(Y).map((function(e){return Object(I.jsx)("th",{children:Y[e]},e)}))})}),Object(I.jsx)("tbody",{children:this.state.contents.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{width:"5%",align:"center",children:t.radioButton(e)}),Object(I.jsx)("td",{role:"button",onClick:function(){return t.open(e)},children:t.fetchTitleOrName(e)}),Object(I.jsx)("td",{role:"button",onClick:function(){return t.open(e)},children:"".concat(e.createdBy.firstname," ").concat(e.createdBy.lastname)}),Object(I.jsx)("td",{role:"button",onClick:function(){return t.open(e)},children:pe()(new Date(e.updatedAt)).format(Z)}),Object(I.jsx)("td",{role:"button",onClick:function(){return t.open(e)},children:pe()(new Date(e.publishedAt)).format(Z)})]},e.id)}))})]}),Object(I.jsx)("div",{className:"custom-page"}),Object(I.jsx)(re.PaginationRow,{itemCount:this.state.totalItems,itemsStart:a,itemsEnd:c,viewType:"table",pagination:n,amountOfPages:this.state.lastPage?this.state.lastPage:1,pageInputValue:this.state.currPageWillUpdating?this.state.currPageWillUpdating:1,onPageSet:this.changePage,onPerPageSelect:this.onPerPageSelect,onFirstPage:function(){t.onPageNavigation(1)},onPreviousPage:function(){t.onPageNavigation(t.state.contents.length?t.state.page-1:1)},onPageInput:this.onPageInput,onNextPage:function(){t.onPageNavigation(t.state.page+1)},onLastPage:function(){t.onPageNavigation(t.state.lastPage)},onSubmit:this.onSubmit,messages:(e=this.props,{firstPage:e.intl.formatMessage({id:"app.firstPage"}),previousPage:e.intl.formatMessage({id:"app.previousPage"}),currentPage:e.intl.formatMessage({id:"app.currentPage"}),nextPage:e.intl.formatMessage({id:"app.nextPage"}),lastPage:e.intl.formatMessage({id:"app.lastPage"}),perPage:e.intl.formatMessage({id:"app.perPage"}),of:e.intl.formatMessage({id:"app.of"})})})]})}),Object(I.jsxs)(re.Row,{className:"SingleContentConfigFormBody__actionBar row",children:[Object(I.jsx)(re.Col,{sm:9}),Object(I.jsx)(re.Col,{sm:3,className:"SingleContentConfigFormBody__addButtons",children:Object(I.jsxs)(ce.b,{to:"/",children:[Object(I.jsx)("button",{className:"btn-default btn",onClick:this.cancelHandler,children:Object(I.jsx)(C.a,{id:"app.cancel"})}),Object(I.jsx)("button",{className:"btn-primary btn AddContentTypeFormBody__save--btn",onClick:this.saveHandler,disabled:i,children:Object(I.jsx)(C.a,{id:"app.save"})})]})})]})]}),Object(I.jsx)(Re,{show:this.state.show,onHide:this.close,contentDetailsOnModal:this.state.contentDetailsOnModal,contentId:this.state.contentIdForModal,collectionType:this.state.selectedCollectionType&&this.state.selectedCollectionType.length&&this.state.selectedCollectionType[0].value,fetchTitleOrName:this.fetchTitleOrName,activeTabKey:this.state.activeTabKey,setActiveTabKey:this.setActiveTabKey})]})}}]),n}(j.Component),Fe=Object(ze.c)(De),Ve=function(e){Object(s.a)(n,e);var t=Object(r.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.setLocale()},a.componentDidUpdate=function(e,t){e.config!==a.props.config&&a.setLocale()},a.setContent=function(e){e.length&&a.setState({selectedContentId:e[0].id})},a.setSelectedContentName=function(e){a.setState({selectedContentName:e,name:e,nameTwo:e})},a.setTemplateId=function(e){a.setState({selectedTemplateId:e})},a.setCollectionType=function(e){a.setState({collectionType:JSON.stringify(e)})},a.setLocale=function(){var e=a.props.config&&a.props.config.locale;e.length&&a.setState({locale:e})},a.decideLocale=function(e){return"en"===e?oe:"it"===e?se:void 0},a.state={selectedContentId:0,selectedTemplateId:"default",selectedContentName:null,name:"",nameTwo:"nameTwoVar",collectionType:"",locale:"en"},a}return Object(i.a)(n,[{key:"render",value:function(){return Object(I.jsx)(ae.a,{locale:this.state.locale,messages:this.decideLocale(this.state.locale),children:Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(ce.a,{children:Object(I.jsxs)(ie.c,{children:[Object(I.jsx)(ie.a,{path:"/",exact:!0,children:Object(I.jsx)(be,{setTemplateId:this.setTemplateId,selectedContentName:this.state.selectedContentName,collType:this.state.collectionType,selectedContentId:this.state.selectedContentId,selectedTemplateId:this.state.selectedTemplateId})}),Object(I.jsx)(ie.a,{path:"/singleconfigpage",exact:!0,children:Object(I.jsx)(Fe,{setContent:this.setContent,selectedContentName:this.state.selectedContentName,setSelectedContentName:this.setSelectedContentName,selectedContentId:this.state.selectedContentId,setCollectionType:this.setCollectionType,collType:this.state.collectionType,setTemplateId:this.setTemplateId})})]})})})})}}]),n}(j.Component),Ue=Object(d.a)("config"),Je=Object(d.a)("updateConfig"),Ge=function(e){Object(s.a)(n,e);var t=Object(r.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.call(this),Object.defineProperty(Object(o.a)(e),Je,{value:_e}),Object.defineProperty(Object(o.a)(e),Ue,{writable:!0,value:{locale:"en"}}),e.getStrapiConfiguration=Object(a.a)(h.a.mark((function t(){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.removeItem(D),t.next=3,$();case 3:n=t.sent,a=n.data,!n.isError&&a&&a.data&&a.data.baseUrl?(localStorage.setItem(D,a.data.baseUrl),e.render()):(console.error("Strapi configuration not available"),localStorage.removeItem(D),e.render());case 7:case"end":return t.stop()}}),t)}))),e.reactRootRef=b.a.createRef(),e.mountPoint=null,e}return Object(i.a)(n,[{key:"attributeChangedCallback",value:function(e,t,n){Object(p.a)(this,Je)[Je](n),g.a.render(Object(I.jsx)(Ve,{ref:this.reactRootRef,config:Object(p.a)(this,Ue)[Ue]}),this.mountPoint)}},{key:"config",get:function(){return this.reactRootRef.current?this.reactRootRef.current.state:{}},set:function(e){return this.reactRootRef.current.setState(e)}},{key:"connectedCallback",value:function(){this.mountPoint=document.createElement("div"),this.appendChild(this.mountPoint),this.getStrapiConfiguration()}},{key:"render",value:function(){g.a.render(Object(I.jsx)(Ve,{ref:this.reactRootRef,config:Object(p.a)(this,Ue)[Ue]}),this.mountPoint)}}],[{key:"observedAttributes",get:function(){return["config"]}}]),n}(Object(l.a)(HTMLElement));function _e(e){Object(p.a)(this,Ue)[Ue]=JSON.parse(e)}customElements.get("single-content-widget-config")||customElements.define("single-content-widget-config",Ge);n(736)}},[[737,1,2]]]);
//# sourceMappingURL=main.a8e44257.chunk.js.map